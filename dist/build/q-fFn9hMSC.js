const C=(function(){const n=typeof document<"u"&&document.createElement("link").relList;return n&&n.supports&&n.supports("modulepreload")?"modulepreload":"preload"})(),D=function(t){return"/"+t},L={},F=function(n,e,o){let s=Promise.resolve();if(e&&e.length>0){let w=function(i){return Promise.all(i.map(u=>Promise.resolve(u).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),l=c?.nonce||c?.getAttribute("nonce");s=w(e.map(i=>{if(i=D(i),i in L)return;L[i]=!0;const u=i.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${h}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":C,u||(d.as="script"),d.crossOrigin="",d.href=i,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((I,x)=>{d.addEventListener("load",I),d.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${i}`)))})}))}function r(c){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=c,window.dispatchEvent(l),!l.defaultPrevented)throw c}return s.then(c=>{for(const l of c||[])l.status==="rejected"&&r(l.reason);return n().catch(r)})},g=document,_="modulepreload",R="preload",a={t:0,o:25,l:.65},j=g.createElement("link").relList.supports(_)?_:R,A=Date.now(),N=/\.[mc]?js$/,v=0,U=1,B=2,O=3,Q=4,$=new Map;let b,S=0;const f=[],m=(...t)=>{console.log(`Preloader ${Date.now()-A}ms ${S}/${f.length} queued>`,...t)},G=()=>{b&&(f.sort((t,n)=>t.u-n.u),b=0)},E=()=>{if(f.length){for(G();f.length;){const t=f[0],e=1-t.u,o=p?Math.max(1,a.o*e):2;if(e>=.99||S<o)f.shift(),z(t);else break}if(a.t&&!f.length){const t=[...$.values()].filter(o=>o.i>v),n=t.reduce((o,s)=>o+s.p,0),e=t.reduce((o,s)=>o+s.$,0);m(`>>>> done ${t.length}/${$.size} total: ${n}ms waited, ${e}ms loaded`)}}},z=t=>{if(t.i>=B)return;S++;const n=Date.now();t.p=n-t.m,t.i=B,a.t&&m(`<< load ${Math.round((1-t.u)*100)}% after ${`${t.p}ms`}`,t.B);const e=g.createElement("link");e.href=new URL(`${q}${t.B}`,g.baseURI).toString(),e.rel=j,e.as="script",e.onload=e.onerror=()=>{S--;const o=Date.now();t.$=o-n,t.i=Q,a.t&&m(`>> done after ${t.$}ms`,t.B),e.remove(),E()},g.head.appendChild(e)},P=(t,n,e)=>{if(e?.has(t))return;const o=t.u;if(t.u=n,!(o-t.u<.01)&&(q!=null&&t.i<B&&t.u<a.l&&(t.i===v&&(t.i=U,f.push(t),a.t&&m(`queued ${Math.round((1-t.u)*100)}%`,t.B)),b=1),t.h)){e||=new Set,e.add(t);const s=1-t.u;for(const r of t.h){const c=k(r.B);if(c.u===0)continue;let l;if(r.S>.5&&(s===1||s>=.99&&y<100))y++,l=Math.min(.01,1-r.S);else{const w=1-r.S*s,i=r.q,u=w/i;l=Math.max(.02,c.u*u),r.q=u}P(c,l,e)}}},M=(t,n)=>{const e=k(t);e&&e.u>n&&P(e,n)};let y;const J=(t,n)=>{if(!t?.length)return;y=0;let e=n?1-n:.4;if(Array.isArray(t))for(let o=t.length-1;o>=0;o--){const s=t[o];typeof s=="number"?e=1-s/10:M(s,e)}else M(t,e);E()};document.addEventListener("qsymbol",t=>{const{symbol:n,href:e}=t.detail;if(e){const o=n.slice(n.lastIndexOf("_")+1);J(o,1)}});let q,p;const T=(t,n)=>({B:t,i:N.test(t)?v:O,h:n,u:1,m:Date.now(),p:0,$:0}),W=t=>{const n=new Map;let e=0;for(;e<t.length;){const o=t[e++],s=[];let r,c=1;for(;r=t[e],typeof r=="number";)r<0?c=-r/10:s.push({B:t[r],S:c,q:1}),e++;n.set(o,s)}return n},k=t=>{let n=$.get(t);if(!n){let e;if(p){if(e=p.get(t),!e)return;e.length||(e=void 0)}n=T(t,e),$.set(t,n)}return n},H=(t,n,e)=>{e&&("d"in e&&(a.t=!!e.d),"P"in e&&(a.o=e.P),"Q"in e&&(a.l=1-e.Q)),t!=null&&(q=t,n&&n.then(o=>o.text()).then(o=>{p=W(JSON.parse(o));const s=[];for(const[r,c]of p.entries()){const l=k(r);l.h=c,l.u<1&&(s.push([l,l.u]),l.u=1)}a.t&&m(`parseBundleGraph got ${p.size} bundles, adjusting ${s.length}`);for(const[r,c]of s)P(r,c);E()}).catch(console.warn))};export{F as _,W as g,M as h,H as l,J as p};

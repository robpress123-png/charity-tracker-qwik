import{h as te,w as ce,l as oe,D as ue,n as _e,o as de,M as ve,j as V,H as pe,g as B,k as h,p as me,a as fe,r as ye,N as U,_hW as F}from"./q-D-3l6r4m.js";import{i as Y,l as ne,j as C,r as he,k as re,Q as se,m as ie,n as Se,o as G,q as O,t as k,v as we,w as Ce,x as be,y as ge,z as i,A as T,B as Ee,c as Pe,C as qe,b as Le,D as Re,R as ke,d as Ie,e as De,f as Ae,h as Oe,E as Te}from"./q-Cifulexv.js";import{_ as v}from"./q-fFn9hMSC.js";const $e=()=>v(()=>import("./q-DANq0Dbo.js").then(n=>n.l),[]),ee=()=>v(()=>import("./q-BLishM5P.js"),[]),W=[["/",[()=>v(()=>import("./q-CvxvDSlw.js"),[])]],["dashboard/",[$e,()=>v(()=>import("./q-DANq0Dbo.js").then(n=>n.i),[])]],["login/",[ee,()=>v(()=>import("./q-CuSYmaga.js").then(n=>n.i),[])]],["logout/",[()=>v(()=>import("./q-CamK3yZW.js"),[])]],["register/",[ee,()=>v(()=>import("./q-DVnZQk_e.js").then(n=>n.i),[])]]],K=[];const X=!0;const je=({track:n})=>{const[s,S,p,a,E,_,f,P,q,l,t]=te();async function d(){const[c,L]=n(()=>[l.value,s.value]),$=ce(""),b=t.url,y=L?"form":c.type,ae=c.replaceState;let r,H,Q=null,j;{r=new URL(c.dest,location),r.pathname.endsWith("/")||(r.pathname+="/");let x=Y(W,K,X,r.pathname);j=oe();const I=H=await ne(r,j,{action:L,clearCache:!0});if(!I){l.untrackedValue={type:y,dest:r};return}const N=I.href,D=new URL(N,r);C(D,r)||(I.isRewrite||(r=D),x=Y(W,K,X,D.pathname));try{Q=await x}catch{window.location.href=N;return}}if(Q){const[x,I,N,D]=Q,A=N,le=A[A.length-1];c.dest.search&&C(r,b)&&(r.search=c.dest.search),C(r,b)||(t.prevUrl=b),t.url=r,t.params={...I},l.untrackedValue={type:y,dest:r};const R=he(H,t,A,$);S.headings=le.headings,S.menu=D,p.value=ue(A),a.links=R.links,a.meta=R.meta,a.styles=R.styles,a.scripts=R.scripts,a.title=R.title,a.frontmatter=R.frontmatter;{q.viewTransition!==!1&&(document.__q_view_transition__=!0);let J;y==="popstate"&&(J=re());const g=document.getElementById(se)??document.documentElement;(c.scroll&&(!c.forceReload||!C(r,b))&&(y==="link"||y==="popstate")||y==="form"&&!C(r,b))&&(document.__q_scroll_restore__=()=>ie(y,r,b,g,J));const Z=H?.loaders,e=window;if(Z&&Object.assign(f,Z),Se.clear(),!e._qCitySPA){if(e._qCitySPA=!0,history.scrollRestoration="manual",e.addEventListener("popstate",()=>{e._qCityScrollEnabled=!1,clearTimeout(e._qCityScrollDebounce),_(location.href,{type:"popstate"})}),e.removeEventListener("popstate",e._qCityInitPopstate),e._qCityInitPopstate=void 0,!e._qCityHistoryPatch){e._qCityHistoryPatch=!0;const u=history.pushState,w=history.replaceState,M=o=>(o===null||typeof o>"u"?o={}:o?.constructor!==Object&&(o={_data:o}),o._qCityScroll=o._qCityScroll||k(g),o);history.pushState=(o,m,z)=>(o=M(o),u.call(history,o,m,z)),history.replaceState=(o,m,z)=>(o=M(o),w.call(history,o,m,z))}document.body.addEventListener("click",u=>{if(u.defaultPrevented)return;const w=u.target.closest("a[href]");if(w&&!w.hasAttribute("preventdefault:click")){const M=w.getAttribute("href"),o=new URL(location.href),m=new URL(M,o);if(G(m,o)&&C(m,o)){if(u.preventDefault(),!m.hash&&!m.href.endsWith("#")){m.href!==o.href&&history.pushState(null,"",m),e._qCityScrollEnabled=!1,clearTimeout(e._qCityScrollDebounce),O({...k(g),x:0,y:0}),location.reload();return}_(w.getAttribute("href"))}}}),document.body.removeEventListener("click",e._qCityInitAnchors),e._qCityInitAnchors=void 0,window.navigation||(document.addEventListener("visibilitychange",()=>{if(e._qCityScrollEnabled&&document.visibilityState==="hidden"){const u=k(g);O(u)}},{passive:!0}),document.removeEventListener("visibilitychange",e._qCityInitVisibility),e._qCityInitVisibility=void 0),e.addEventListener("scroll",()=>{e._qCityScrollEnabled&&(clearTimeout(e._qCityScrollDebounce),e._qCityScrollDebounce=setTimeout(()=>{const u=k(g);O(u),e._qCityScrollDebounce=void 0},200))},{passive:!0}),removeEventListener("scroll",e._qCityInitScroll),e._qCityInitScroll=void 0,e._qCityBootstrap?.remove(),e._qCityBootstrap=void 0,we.resolve()}if(y!=="popstate"){e._qCityScrollEnabled=!1,clearTimeout(e._qCityScrollDebounce);const u=k(g);O(u)}Ce(window,y,b,r,ae),_e(j).then(()=>{be(j).setAttribute("q:route",x);const w=k(g);O(w),e._qCityScrollEnabled=!0,t.isNavigating=!1,P.r?.()})}}}d()},xe=Object.freeze(Object.defineProperty({__proto__:null,_hW:F,s_BvMl8dyvk0A:je},Symbol.toStringTag,{value:"Module"})),Ne=async(n,s)=>{const[S,p,a,E]=te(),{type:_="link",forceReload:f=n===void 0,replaceState:P=!1,scroll:q=!0}=typeof s=="object"?s:{forceReload:s};T.navCount++;const l=a.value.dest,t=n===void 0?l:typeof n=="number"?n:ge(n,E.url);if(i.$cbs$&&(f||typeof t=="number"||!C(t,l)||!G(t,l))){const d=T.navCount,c=await Promise.all([...i.$cbs$.values()].map(L=>L(t)));if(d!==T.navCount||c.some(Boolean)){d===T.navCount&&_==="popstate"&&history.pushState(null,"",l);return}}if(typeof t=="number"){history.go(t);return}if(!G(t,l)){location.href=t.href;return}if(!f&&C(t,l)){{_==="link"&&t.href!==location.href&&history.pushState(null,"",t);const d=document.getElementById(se)??document.documentElement;ie(_,t,new URL(location.href),d,re()),_==="popstate"&&(window._qCityScrollEnabled=!0)}return}return a.value={type:_,dest:t,forceReload:f,replaceState:P,scroll:q},ne(t,oe()),Y(W,K,X,t.pathname),S.value=void 0,E.isNavigating=!0,new Promise(d=>{p.r=d})},Me=Object.freeze(Object.defineProperty({__proto__:null,_hW:F,s_wk1LKirvY1w:Ne},Symbol.toStringTag,{value:"Module"})),Ve=n=>{de(U(()=>v(()=>Promise.resolve().then(()=>He),void 0),"s_30qjYNn4G6I"));const s=Ee();if(!s?.params)throw new Error("Missing Qwik City Env Data for help visit https://github.com/QwikDev/qwik/issues/6237");const S=ve("url");if(!S)throw new Error("Missing Qwik URL Env Data");const p=new URL(S),a=V({url:p,params:s.params,isNavigating:!1,prevUrl:void 0},{deep:!1}),E={},_=pe(V(s.response.loaders,{deep:!1})),f=B({type:"initial",dest:p,forceReload:!1,replaceState:!1,scroll:!0}),P=V(Pe),q=V({headings:void 0,menu:void 0}),l=B(),t=s.response.action,d=t?s.response.loaders[t]:void 0,c=B(d?{id:t,data:s.response.formData,output:{result:d,status:s.response.status}}:void 0),L=U(()=>v(()=>Promise.resolve().then(()=>ze),void 0),"s_7zGYPO4xMaQ"),$=U(()=>v(()=>Promise.resolve().then(()=>Me),void 0),"s_wk1LKirvY1w",[c,E,f,a]);return h(qe,q),h(Le,l),h(Re,P),h(ke,a),h(Ie,$),h(De,_),h(Ae,c),h(Oe,f),h(Te,L),me(U(()=>v(()=>Promise.resolve().then(()=>xe),void 0),"s_BvMl8dyvk0A",[c,q,l,P,s,$,_,E,n,f,a])),fe(ye,null,3,"F5_3")},We=Object.freeze(Object.defineProperty({__proto__:null,s_GSNXmy3U72k:Ve},Symbol.toStringTag,{value:"Module"})),Ue=":root{view-transition-name:none}",He=Object.freeze(Object.defineProperty({__proto__:null,s_30qjYNn4G6I:Ue},Symbol.toStringTag,{value:"Module"})),Qe=n=>(i.$handler$||(i.$handler$=s=>{if(T.navCount++,!i.$cbs$)return;[...i.$cbs$.values()].map(p=>p.resolved?p.resolved():p()).some(Boolean)&&(s.preventDefault(),s.returnValue=!0)}),(i.$cbs$||(i.$cbs$=new Set)).add(n),n.resolve(),window.addEventListener("beforeunload",i.$handler$),()=>{i.$cbs$&&(i.$cbs$.delete(n),i.$cbs$.size||(i.$cbs$=void 0,window.removeEventListener("beforeunload",i.$handler$)))}),ze=Object.freeze(Object.defineProperty({__proto__:null,_hW:F,s_7zGYPO4xMaQ:Qe},Symbol.toStringTag,{value:"Module"}));export{F as _hW,We as i,Ue as s_30qjYNn4G6I,Qe as s_7zGYPO4xMaQ,je as s_BvMl8dyvk0A,Ve as s_GSNXmy3U72k,Ne as s_wk1LKirvY1w};
